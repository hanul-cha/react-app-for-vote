(this.webpackJsonpmyvote=this.webpackJsonpmyvote||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(16),a=c.n(s),o=(c(23),c(7)),i=c(2),l=c(0);function j(){return Object(l.jsxs)("div",{className:"header clearFix",children:[Object(l.jsx)("h1",{className:"headerH1",children:Object(l.jsx)(o.b,{to:"/react-app-for-vote",children:"\ucd5c\uadfc \ud22c\ud45c\ub9ac\uc2a4\ud2b8"})}),Object(l.jsx)(o.b,{to:"/react-app-for-vote/delete_vote",id:"addVote",children:" \ud22c\ud45c\uc0ad\uc81c "})]})}var d=c(18);function h(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),r=c[0],s=c[1];return Object(n.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){s(e)}))}),[e]),r}function u(){var e=h("http://localhost:3001/vote"),t=function(e){return 0<e?100/e:0};return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)(o.b,{to:"/react-app-for-vote/create_vote",className:"createVote",children:[Object(l.jsx)("span",{}),Object(l.jsx)("span",{})]}),Object(l.jsx)("ul",{className:"vote_List",children:e.map((function(e){return Object(l.jsxs)("li",{className:"voteListLi",children:[Object(l.jsx)(o.b,{to:"/react-app-for-vote/vote/".concat(e.title),children:Object(l.jsxs)("div",{className:"voteWrapper",children:[Object(l.jsxs)("div",{className:"voteListText",children:[Object(l.jsx)("h2",{children:e.title}),Object(l.jsx)("h3",{children:e.text})]}),Object(l.jsxs)("div",{className:"personOfVoted",children:["\ud22c\ud45c\uc778\uc6d0  ",Object(l.jsx)("span",{children:e.user}),"\uba85"]})]})}),Object(l.jsx)("div",{className:"show_Stats",children:Object(l.jsx)("ul",{children:e.voteList.map((function(c){return Object(l.jsxs)("li",{className:"content_list",children:[Object(l.jsxs)("h4",{children:[c.content," ",Math.round(Number(c.number_of_votes*t(e.user)))+"%"]}),Object(l.jsx)("div",{className:"contentlistBack",style:{width:c.number_of_votes*t(e.user)+"%"}})]},c.id)}))})})]},e.id)}))})]})}function b(){var e=[],t=Object(i.f)(),c=Object(n.useRef)(null),r=Object(n.useRef)(null);return Object(l.jsxs)("form",{className:"addVoteForm",onSubmit:function(n){n.preventDefault();for(var s=document.querySelectorAll(".add_input input"),a=0;a<s.length;a++)e[a]={id:a+1,content:s[a].value,number_of_votes:0};fetch("http://localhost:3001/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c.current.value,text:r.current.value,voteList:e,user:0})}).then((function(e){e.ok&&(alert("\uc0c8\ub85c\uc6b4 \ud22c\ud45c\uac00 \uc0dd\uc131 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t.push("/react-app-for-vote"))}))},children:[Object(l.jsx)("h2",{children:"\ud22c\ud45c\ub9cc\ub4e4\uae30"}),Object(l.jsx)("div",{className:"input_area",children:Object(l.jsx)("input",{type:"text",placeholder:"\ud22c\ud45c \uc81c\ubaa9",ref:c,required:!0})}),Object(l.jsxs)("div",{className:"input_area text_area",children:[Object(l.jsx)("label",{children:"\ud14d\uc2a4\ud2b8"}),Object(l.jsx)("input",{type:"text",placeholder:"\uba64\ubc84\uc5d0\uac8c \uc804\ud560 \uc18c\uc2dd\uc744 \ub0a8\uaca8\ubcf4\uc138\uc694",ref:r,required:!0})]}),Object(l.jsxs)("div",{className:"add_input input_area",children:[Object(l.jsx)("label",{children:"\ud22c\ud45c\ud56d\ubaa9"}),Object(l.jsx)("input",{type:"text",placeholder:"\ud56d\ubaa9\uc785\ub825",required:!0})," ",Object(l.jsx)("input",{type:"text",placeholder:"\ud56d\ubaa9\uc785\ub825",required:!0})]}),Object(l.jsxs)("div",{className:"addVoteList",onClick:function(){var e=document.createElement("input"),t=document.getElementsByClassName("add_input");e.type="text",e.placeholder="\ud56d\ubaa9\uc785\ub825",t[0].appendChild(e)},children:[Object(l.jsx)("span",{}),Object(l.jsx)("span",{})]}),Object(l.jsx)("button",{className:"voteCreateBtn",children:"\ub9cc\ub4e4\uae30"})]})}var p=c(14);function x(){var e=Object(i.g)().title,t=Object(i.f)(),c=h("http://localhost:3001/vote?title=".concat(e));function n(e){e.preventDefault();for(var n=document.getElementsByName("doVoteList"),r=c[0].voteList,s=!1,a=0;a<n.length;a++)n[a].checked&&(s=!0);if(s){for(var o=0;o<n.length;o++)console.log(n[o].checked),n[o].checked&&(r[o].number_of_votes+=1);fetch("http://localhost:3001/vote/".concat(c[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(p.a)(Object(p.a)({},c[0]),{},{user:c[0].user+=1,voteList:r}))}).then((function(e){e.ok&&(alert("\ubc18\uc601\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t.push("/react-app-for-vote"))}))}else alert("\ud558\ub098\uc774\uc0c1 \uccb4\ud06c\ud574\uc57c\ud569\ub2c8\ub2e4")}return Object(l.jsx)(l.Fragment,{children:c.map((function(e){return Object(l.jsxs)("div",{className:"do_vote",children:[Object(l.jsx)("h2",{children:e.title}),Object(l.jsxs)("form",{onSubmit:n,children:[e.voteList.map((function(e){return Object(l.jsxs)("label",{children:[Object(l.jsx)("input",{type:"radio",name:"doVoteList"}),e.content]},e.id)})),Object(l.jsx)("button",{children:"\ud22c\ud45c\ud558\uae30"})]})]},e.id)}))})}function O(){var e=h("http://localhost:3001/vote"),t=Object(i.f)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)("div",{children:Object(l.jsx)("ul",{className:"deletUl",children:e.map((function(e){return Object(l.jsxs)("li",{className:"clearFix",children:[Object(l.jsx)("h2",{children:e.title}),Object(l.jsx)("button",{onClick:function(){return c=e,void(window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&fetch("http://localhost:3001/vote/".concat(c.id),{method:"DELETE"}).then((function(e){e.ok&&(alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t.push("/react-app-for-vote"))})));var c},children:"\uc0ad\uc81c"})]},e.id)}))})})})}var v=function(){return Object(l.jsx)(o.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(j,{}),Object(l.jsxs)(i.c,{children:[Object(l.jsx)(i.a,{exact:!0,path:"/react-app-for-vote/",children:Object(l.jsx)(u,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/react-app-for-vote/delete_vote",children:Object(l.jsx)(O,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/react-app-for-vote/vote/:title",children:Object(l.jsx)(x,{})}),Object(l.jsx)(i.a,{exact:!0,path:"/react-app-for-vote/create_vote",children:Object(l.jsx)(b,{})})]})]})})};a.a.render(Object(l.jsx)(r.a.StrictMode,{children:Object(l.jsx)(v,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.566b6e8e.chunk.js.map