(this.webpackJsonpmyvote=this.webpackJsonpmyvote||[]).push([[0],{23:function(e,t,c){},30:function(e,t,c){"use strict";c.r(t);var n=c(1),s=c.n(n),r=c(16),i=c.n(r),a=(c(23),c(7)),l=c(2),o=c(0);function j(){return Object(o.jsxs)("div",{className:"header clearFix",children:[Object(o.jsx)("h1",{className:"headerH1",children:Object(o.jsx)(a.b,{to:"/",children:"\ucd5c\uadfc \ud22c\ud45c\ub9ac\uc2a4\ud2b8"})}),Object(o.jsx)(a.b,{to:"/delete_vote",id:"addVote",children:" \ud22c\ud45c\uc0ad\uc81c "})]})}var d=c(18);function h(e){var t=Object(n.useState)([]),c=Object(d.a)(t,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){fetch(e).then((function(e){return e.json()})).then((function(e){r(e)}))}),[e]),s}function u(){var e=h("http://localhost:3001/vote"),t=function(e){return 0<e?100/e:0};return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(a.b,{to:"/create_vote",className:"createVote",children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]}),Object(o.jsx)("ul",{className:"vote_List",children:e.map((function(e){return Object(o.jsxs)("li",{className:"voteListLi",children:[Object(o.jsx)(a.b,{to:"/vote/".concat(e.title),children:Object(o.jsxs)("div",{className:"voteWrapper",children:[Object(o.jsxs)("div",{className:"voteListText",children:[Object(o.jsx)("h2",{children:e.title}),Object(o.jsx)("h3",{children:e.text})]}),Object(o.jsxs)("div",{className:"personOfVoted",children:["\ud22c\ud45c\uc778\uc6d0  ",Object(o.jsx)("span",{children:e.user}),"\uba85"]})]})}),Object(o.jsx)("div",{className:"show_Stats",children:Object(o.jsx)("ul",{children:e.voteList.map((function(c){return Object(o.jsxs)("li",{className:"content_list",children:[Object(o.jsxs)("h4",{children:[c.content," ",Math.round(Number(c.number_of_votes*t(e.user)))+"%"]}),Object(o.jsx)("div",{className:"contentlistBack",style:{width:c.number_of_votes*t(e.user)+"%"}})]},c.id)}))})})]},e.id)}))})]})}function b(){var e=[],t=Object(l.f)(),c=Object(n.useRef)(null),s=Object(n.useRef)(null);return Object(o.jsxs)("form",{className:"addVoteForm",onSubmit:function(n){n.preventDefault();for(var r=document.querySelectorAll(".add_input input"),i=0;i<r.length;i++)e[i]={id:i+1,content:r[i].value,number_of_votes:0};fetch("http://localhost:3001/vote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:c.current.value,text:s.current.value,voteList:e,user:0})}).then((function(e){e.ok&&(alert("\uc0c8\ub85c\uc6b4 \ud22c\ud45c\uac00 \uc0dd\uc131 \ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t.push("/"))}))},children:[Object(o.jsx)("h2",{children:"\ud22c\ud45c\ub9cc\ub4e4\uae30"}),Object(o.jsx)("div",{className:"input_area",children:Object(o.jsx)("input",{type:"text",placeholder:"\ud22c\ud45c \uc81c\ubaa9",ref:c,required:!0})}),Object(o.jsxs)("div",{className:"input_area text_area",children:[Object(o.jsx)("label",{children:"\ud14d\uc2a4\ud2b8"}),Object(o.jsx)("input",{type:"text",placeholder:"\uba64\ubc84\uc5d0\uac8c \uc804\ud560 \uc18c\uc2dd\uc744 \ub0a8\uaca8\ubcf4\uc138\uc694",ref:s,required:!0})]}),Object(o.jsxs)("div",{className:"add_input input_area",children:[Object(o.jsx)("label",{children:"\ud22c\ud45c\ud56d\ubaa9"}),Object(o.jsx)("input",{type:"text",placeholder:"\ud56d\ubaa9\uc785\ub825",required:!0})," ",Object(o.jsx)("input",{type:"text",placeholder:"\ud56d\ubaa9\uc785\ub825",required:!0})]}),Object(o.jsxs)("div",{className:"addVoteList",onClick:function(){var e=document.createElement("input"),t=document.getElementsByClassName("add_input");e.type="text",e.placeholder="\ud56d\ubaa9\uc785\ub825",t[0].appendChild(e)},children:[Object(o.jsx)("span",{}),Object(o.jsx)("span",{})]}),Object(o.jsx)("button",{className:"voteCreateBtn",children:"\ub9cc\ub4e4\uae30"})]})}var x=c(14);function O(){var e=Object(l.g)().title,t=Object(l.f)(),c=h("http://localhost:3001/vote?title=".concat(e));function n(e){e.preventDefault();for(var n=document.getElementsByName("doVoteList"),s=c[0].voteList,r=!1,i=0;i<n.length;i++)n[i].checked&&(r=!0);if(r){for(var a=0;a<n.length;a++)console.log(n[a].checked),n[a].checked&&(s[a].number_of_votes+=1);fetch("http://localhost:3001/vote/".concat(c[0].id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Object(x.a)(Object(x.a)({},c[0]),{},{user:c[0].user+=1,voteList:s}))}).then((function(e){e.ok&&(alert("\ubc18\uc601\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),t.push("/"))}))}else alert("\ud558\ub098\uc774\uc0c1 \uccb4\ud06c\ud574\uc57c\ud569\ub2c8\ub2e4")}return Object(o.jsx)(o.Fragment,{children:c.map((function(e){return Object(o.jsxs)("div",{className:"do_vote",children:[Object(o.jsx)("h2",{children:e.title}),Object(o.jsxs)("form",{onSubmit:n,children:[e.voteList.map((function(e){return Object(o.jsxs)("label",{children:[Object(o.jsx)("input",{type:"radio",name:"doVoteList"}),e.content]},e.id)})),Object(o.jsx)("button",{children:"\ud22c\ud45c\ud558\uae30"})]})]},e.id)}))})}function p(){var e=h("http://localhost:3001/vote"),t=Object(l.f)();return Object(o.jsx)(o.Fragment,{children:Object(o.jsx)("div",{children:Object(o.jsx)("ul",{className:"deletUl",children:e.map((function(e){return Object(o.jsxs)("li",{className:"clearFix",children:[Object(o.jsx)("h2",{children:e.title}),Object(o.jsx)("button",{onClick:function(){return c=e,void(window.confirm("\uc815\ub9d0 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&fetch("http://localhost:3001/vote/".concat(c.id),{method:"DELETE"}).then((function(e){e.ok&&(alert("\uc0ad\uc81c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),t.push("/"))})));var c},children:"\uc0ad\uc81c"})]},e.id)}))})})})}var v=function(){return Object(o.jsx)(a.a,{children:Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)(j,{}),Object(o.jsxs)(l.c,{children:[Object(o.jsx)(l.a,{exact:!0,path:"/",children:Object(o.jsx)(u,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/delete_vote",children:Object(o.jsx)(p,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/vote/:title",children:Object(o.jsx)(O,{})}),Object(o.jsx)(l.a,{exact:!0,path:"/create_vote",children:Object(o.jsx)(b,{})})]})]})})};i.a.render(Object(o.jsx)(s.a.StrictMode,{children:Object(o.jsx)(v,{})}),document.getElementById("root"))}},[[30,1,2]]]);
//# sourceMappingURL=main.680bf484.chunk.js.map